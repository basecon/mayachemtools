.\" Automatically generated by Pod::Man 2.28 (Pod::Simple 3.35)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.nr rF 0
.if \n(.g .if rF .nr rF 1
.if (\n(rF:(\n(.g==0)) \{
.    if \nF \{
.        de IX
.        tm Index:\\$1\t\\n%\t"\\$2"
..
.        if !\nF==2 \{
.            nr % 0
.            nr F 2
.        \}
.    \}
.\}
.rr rF
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "DownloadPDBFiles 1"
.TH DownloadPDBFiles 1 "2020-08-27" "perl v5.22.4" "MayaChemTools"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
DownloadPDBFiles.pl \- Download PDB files for PDB ID(s)
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
DownloadPDBFiles.pl \s-1PDBID\s0(s) or PDBIDsTextFile
.PP
DownloadPDBFiles.pl [\fB\-c, \-\-colmode\fR \fIcolnum | collabel\fR]
[\fB\-d, \-\-dataLocationURL\fR \fI\s-1PDB URL\s0\fR] [\fB\-\-DensityMap\fR \fIyes | no\fR]
[\fB\-\-DensityMapMode\fR \fIXRayElectronDensity, CryoEMDensity, Auto\fR]
[\fB\-\-DensityMapLocationURLCryoEM\fR \fIMap \s-1URL\s0\fR] [\fB\-\-DenistyMapLocationURLXRay\fR \fIMap \s-1URL\s0\fR]
[\fB\-\-EDMapLocationSuffixes\fR \fICompositeMap,None,...\fR] [\fB\-\-EDMapTypes\fR][\fB\-h, \-\-help\fR]
[\fB\-\-indelim\fR \fIcomma | semicolon\fR] [\fB\-m, \-\-mode\fR <IDsOnCmdLine | IDsInFile>]
[\fB\-\-PDBIDsCol \fR \fInumber | string\fR] [\fB\-p, \-\-PDBFormat\fR \fI\s-1PDB, CIF\s0 or Auto\fR]
[\fB\-w, \-\-WorkingDir\fR dirname] \s-1PDBID\s0(s) or PDBIDsTextFile
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
Download \s-1PDB\s0 files corresponding to \s-1PDB\s0 IDs specified in a column in a \s-1CSV/TSV\s0 text file or
on the command line as space delimited parameters.
.PP
It is also possible to download x\-ray electron density and cryo-EM density maps for the
specified \s-1PDB\s0 IDs.
.SH "OPTIONS"
.IX Header "OPTIONS"
.IP "\fB\-c, \-\-colmode\fR \fIcolnum | collabel\fR" 4
.IX Item "-c, --colmode colnum | collabel"
Specify how columns are identified in a \fITextFile\fR containing \s-1PDB\s0 IDs: using column number
or column label. Possible values: \fIcolnum or collabel\fR. Default value: \fIcolnum\fR.
.IP "\fB\-d, \-\-DataLocationURL\fR \fI\s-1PDB URL\s0\fR" 4
.IX Item "-d, --DataLocationURL PDB URL"
Specify location of \s-1PDB URL\s0 where data files are available for download. Default value:
\&\fIhttp://www.rcsb.org/pdb/files/\fR.
.IP "\fB\-\-DensityMap\fR \fIyes | no\fR" 4
.IX Item "--DensityMap yes | no"
Download x\-ray electron density and cryo-EM density map file(s). Possible values:
\&\fIYes or No\fR. Default value: \fIno\fR.
.IP "\fB\-\-DensityMapMode\fR \fIXRayElectronDensity, CryoEMDensity, Auto\fR" 4
.IX Item "--DensityMapMode XRayElectronDensity, CryoEMDensity, Auto"
Specify type of density map files to download. Possible values: \fIXRayElectronDensity,
CryoEMDensity, Auto\fR. Default value: \fIAuto\fR. The x\-ray electron density and cryo-EM
density map files are downloaded for \fIXRayElectronDensity\fR and \fICryoEMDensity\fR
values. The availability of both \fBXRayElectronDensity\fR and \fBXRayElectronDensity\fR
is checked for \fIAuto\fR value by attempting to download x\-ray map files followed by
cryo-EM map files.
.Sp
X\-ray Electron Density (\s-1ED \s0) map file(s) are downloaded in \s-1CCP4\s0 and \s-1MTZ\s0 format. Three
different types of \s-1ED\s0 map files may be downloaded using option \fB\-\-EDMapTypes\fR:
CompositeMap (2Fobs \- Fcalc), DifferenceMap (Fobs \- Fcalc), ReflectionMap. The format of
\&\s-1ED\s0 data in first two file types is \s-1CCP4.\s0 The third file type contains \s-1ED\s0 data in \s-1MTZ\s0 format.
.Sp
The names of the downloaded \s-1ED\s0 files are derived from input \s-1PDB\s0 IDs as shown below:
.Sp
.Vb 3
\&    CompositeMap (2Fobs \- Fcalc):  <PDBID>.ccp4
\&    DifferenceMap (Fobs \- Fcalc): <PDBID>_Diff.ccp4
\&    ReflectionMap:  <PDBID>_Map.mtz
.Ve
.Sp
CryoEM density map file(s) are also downloaded in \s-1CCP4\s0 format. The names of the cyroEM
density map files is derived from \s-1EMDB ID\s0 in downloaded \s-1PDB\s0 or \s-1CIF\s0 file:
.Sp
.Vb 2
\&    CryoEMFile:  emd_<EMDBID>.map.gz
\&    Path: <CryoEMMapLocationURL>/EMD\-<EMDBID>/map/emd_<EMDBID>.map.gz
.Ve
.IP "\fB\-\-DensityMapLocationURLCryoEM\fR \fIMap \s-1URL\s0\fR" 4
.IX Item "--DensityMapLocationURLCryoEM Map URL"
Specify location of cryoEM map \s-1URL\s0 where data files are available for download. Default
value: \fIftp://ftp.wwpdb.org/pub/emdb/structures/\fR.
.Sp
The cryo-EM map files are also availabe at the following \s-1FTP\s0 server:
.Sp
.Vb 1
\&    ftp://ftp.ebi.ac.uk/pub/databases/emdb/structures/
.Ve
.Sp
The cryoEM database \s-1ID\s0 is automatically retrieved from the downloaded \s-1PDB\s0 or \s-1CIF\s0 file.
It is used to generate the complete path name of the cryoEM map files:
.Sp
.Vb 1
\&    ftp://ftp.wwpdb.org/pub/emdb/structures/EMD\-<ID>/map/emd_<ID>.map.gz
.Ve
.Sp
In addition to map file, the following metadata file is automatically downloaded from
\&\s-1FTP\s0 server:
.Sp
.Vb 1
\&    ftp://ftp.wwpdb.org/pub/emdb/structures/EMD\-<ID>/header/emd_<ID>.xml
.Ve
.IP "\fB\-\-DenistyMapLocationURLXRay\fR \fIMap \s-1URL\s0\fR" 4
.IX Item "--DenistyMapLocationURLXRay Map URL"
Specify location of x\-ray electron density map \s-1URL\s0 where data files are available for
download. Default value: \fIhttp://www.ebi.ac.uk/pdbe/coordinates/files/\fR.
.IP "\fB\-\-EDMapLocationSuffixes\fR \fICompositeMap,None,...\fR" 4
.IX Item "--EDMapLocationSuffixes CompositeMap,None,..."
Specify file root suffixes for generating file names for x\-ray electron density map files on
a remote server. It is a pariwise comma delimited list of \fBEDMapTypes\fR and remote file
suffixes. Default value: \fICompositeMap, None, DifferenceMap, _diff, ReflectionMap, _map\fR.
.Sp
The default names of the x\-ray \s-1ED\s0 map files available on the server are shown below:
.Sp
.Vb 3
\&    CompositeMap (2Fobs \- Fcalc): <LowercasePDBID>.ccp4
\&    DifferenceMap (Fobs \- Fcalc): <LowercasePDBID>_diff.ccp4
\&    ReflectionMap: <LowercasePDBID>_map.mtz
.Ve
.IP "\fB\-\-EDMapTypes\fR \fICompositeMap,DifferenceMap,ReflectionMap,All\fR" 4
.IX Item "--EDMapTypes CompositeMap,DifferenceMap,ReflectionMap,All"
Specify types of x\-ray Electron Density (\s-1ED\s0) map file(s) to download. It is either a comma
delimited list of valid file types or All available file types. Possible values: \fICompositeMap,
DifferenceMap, ReflectionMap, All\fR. Default value: \fICompositeMap,DifferenceMap\fR.
.Sp
The CompositeMap (2Fobs \- Fcalc) and DifferenceMap (Fobs \- Fcalc) correspond to \s-1ED\s0
map data in \s-1CCP4\s0 format. The ReflectionMap corresponds to \s-1ED\s0 map data in \s-1MTZ\s0 format.
.IP "\fB\-h, \-\-help\fR" 4
.IX Item "-h, --help"
Print this help message.
.IP "\fB\-\-indelim\fR \fIcomma | semicolon\fR" 4
.IX Item "--indelim comma | semicolon"
Input delimiter for \s-1CSV \s0\fITextFile\fR containing \s-1PDB\s0 IDs. Possible values: \fIcomma or semicolon\fR.
Default value: \fIcomma\fR. For \s-1TSV\s0 files, this option is ignored and \fItab\fR is used as a delimiter.
.IP "\fB\-m, \-\-mode\fR <IDsOnCmdLine | IDsInFile>" 4
.IX Item "-m, --mode <IDsOnCmdLine | IDsInFile>"
Indicate how \s-1PDB\s0 IDs are specified: \s-1PDB\s0 IDs are either present as space delimited command line
parameters or in a specific column in a \s-1CSV/TSV\s0 text file. Possible values: \fIIDsOnCmdLine or  IDsInFile\fR.
Default: \fIIDsOnCmdLine\fR.
.IP "\fB\-p, \-\-PDBIDsCol \fR \fInumber | string\fR" 4
.IX Item "-p, --PDBIDsCol number | string"
Column used to identify \s-1PDB ID\s0(s) in a text file. Default value: First column containing text
string \fB\s-1PDB_ID\s0\fR or <\s-1PDBID\s0>.
.Sp
For \fIcolnum\fR value of \fB\-c, \-\-colmode\fR option, input value is a column number.
Example: \fI1\fR.
.Sp
For \fIcollabel\fR value of \fB\-c, \-\-colmode\fR option, input value is a column label.
Example: \fI\s-1PDB_ID\s0\fR.
.Sp
This option is ignored during \fIIDsOnCmdLine\fR value of \fBm, \-\-mode\fR option.
.IP "\fB\-\-PDBFormat\fR \fI\s-1PDB, CIF\s0 or Auto\fR" 4
.IX Item "--PDBFormat PDB, CIF or Auto"
Specify file format for downloading \s-1PDB\s0 files. Possible values: \fI\s-1PDB, CIF,\s0 auto\fR. Default
value: \fIAuto\fR. The \fB\s-1PDBID\s0\fR.pdb and \fB\s-1PDBID\s0\fR.cif files are downloaded for \fI\s-1PDB\s0\fR and
\&\fI\s-1CIF\s0\fR option values. The availability of \s-1PDB\s0 fies in both \fI\s-1PDB\s0\fR and \fI\s-1CIF\s0\fR format is checked
for \fIAuto\fR option by attempting to download \fB\s-1PDB\s0\fR.pdb file followed by \fB\s-1PDBID\s0\fR.cif
file.
.Sp
The \fI\s-1PDB\s0\fR format files are usually not available for structures determined using
cryo-EM methodology.
.IP "\fB\-w, \-\-WorkingDir\fR \fIdirname\fR" 4
.IX Item "-w, --WorkingDir dirname"
Location of working directory. Default: current directory.
.SH "EXAMPLES"
.IX Header "EXAMPLES"
To retrieve a \s-1PDB\s0 file for \s-1PDB ID 2HYY\s0 and generate a local 2HYY.pdb file, type:
.PP
.Vb 1
\&    % DownloadPDBFiles.pl 2HYY
.Ve
.PP
To retrieve a \s-1PDB\s0 file for \s-1PDB ID 2HYY\s0 along with electron density files and generate a
local 2HYY.pdb and electron density map files 2HYY.ccp4 and 2HYY_diff.ccp4 corresponding
to composit (2Fo \- Fc) and difference maps (Fo \- Fc), type:
.PP
.Vb 1
\&    % DownloadPDBFiles.pl \-\-densityMap yes 2HYY
.Ve
.PP
To retrieve \s-1PDB\s0 file for 5K12 in \s-1CIF\s0 format along with cryo-EM density file and generate
a local 5K12.cif and density map file emd_8194.map.gz, type:
.PP
.Vb 1
\&    % DownloadPDBFiles.pl \-\-densityMap yes \-\-pdbFormat CIF 5K12
.Ve
.PP
To retrieve \s-1PDB\s0 files for multiple \s-1PDB\s0 IDs 2HYY and 1KV2 and generate corresponding
local \s-1PDB\s0 files, type:
.PP
.Vb 1
\&    % DownloadPDBFiles.pl 2HYY 1KV2
.Ve
.PP
To retrieve \s-1PDB\s0 files for multiple \s-1PDB\s0 IDs 2HYY and 1KV2 and generate corresponding
local \s-1PDB\s0 files along with appropriate x\-ray electron density and cryo-EM density files,
type:
.PP
.Vb 1
\&    % DownloadPDBFiles.pl \-\-densityMap yes 2HYY 5K12
.Ve
.PP
To download \s-1PDB\s0 files for \s-1PDB\s0 IDs present in column name \s-1PDB_ID\s0 or \s-1PDBID\s0 in
SamplePDBIDs.csv file and generate correponding \s-1PDB\s0 files, type
.PP
.Vb 1
\&    % DownloadPDBFiles.pl \-m IDsInFile SamplePDBIDs.csv
.Ve
.PP
To download \s-1PDB\s0 files for \s-1PDB\s0 IDs present in a specific column name in
SamplePDBIDs.csv file and generate correponding \s-1PDB\s0 files, type
.PP
.Vb 1
\&    % DownloadPDBFiles.pl \-m IDsInFile \-c collabel \-p PDB_ID SamplePDBIDs.csv
.Ve
.SH "AUTHOR"
.IX Header "AUTHOR"
Manish Sud <msud@san.rr.com>
.SH "SEE ALSO"
.IX Header "SEE ALSO"
ExtractFromPDBFiles.pl,  InfoPDBFiles.pl, ModifyPDBFiles.pl
.SH "COPYRIGHT"
.IX Header "COPYRIGHT"
Copyright (C) 2020 Manish Sud. All rights reserved.
.PP
This file is part of MayaChemTools.
.PP
MayaChemTools is free software; you can redistribute it and/or modify it under
the terms of the \s-1GNU\s0 Lesser General Public License as published by the Free
Software Foundation; either version 3 of the License, or (at your option)
any later version.
