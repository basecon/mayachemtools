<html>
<head>
<title>MayaChemTools:Documentation:DBTablesToTextFiles.pl</title>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<link rel="stylesheet" type="text/css" href="../../css/MayaChemTools.css">
</head>
<body leftmargin="20" rightmargin="20" topmargin="10" bottommargin="10">
<br/>
<center>
<a href="http://www.mayachemtools.org" title="MayaChemTools Home"><img src="../../images/MayaChemToolsLogo.gif" border="0" alt="MayaChemTools"></a>
</center>
<br/>
<div class="DocNav">
<table width="100%" border=0 cellpadding=0 cellspacing=2>
<tr align="left" valign="top"><td width="33%" align="left"><a href="./DBSchemaTablesToTextFiles.html" title="DBSchemaTablesToTextFiles.html">Previous</a>&nbsp;&nbsp;<a href="./index.html" title="Table of Contents">TOC</a>&nbsp;&nbsp;<a href="./DownloadPDBFiles.html" title="DownloadPDBFiles.html">Next</a></td><td width="34%" align="middle"><strong>DBTablesToTextFiles.pl</strong></td><td width="33%" align="right"><a href="././code/DBTablesToTextFiles.html" title="View source code">Code</a>&nbsp;|&nbsp;<a href="./../pdf/DBTablesToTextFiles.pdf" title="PDF US Letter Size">PDF</a>&nbsp;|&nbsp;<a href="./../pdfa4/DBTablesToTextFiles.pdf" title="PDF A4 Size">PDFA4</a></td></tr>
</table>
</div>
<h1 id="NAME">NAME</h2>
<p>DBToTextFiles.pl - Export data from database TableName(s) into CSV/TSV text files</p>
<h1 id="SYNOPSIS">SYNOPSIS</h2>
<p>DBTablesToTextFiles.pl TableName(s)...</p>
<p>DBTablesToTextFiles.pl [<b>-d, --dbdriver</b> mysql | Oracle | Postgres or Pg] [<b>--dbhost </b> hostname] [<b>--dbname</b> databasename] [<b>--dbpassword</b> password] [<b>--dbusername</b> username] [<b>--exportdatalabels</b> yes | no] [<b>--exportlobs</b> yes | no] [<b>-h, --help</b>] [<b>-m, --mode</b> exportdata | describetable] [<b>-o, --overwrite</b>] [<b>--outdelim</b> comma | tab | semicolon] [<b>-q, --quote</b> yes | no] [<b>-r, --root</b> rootname] [<b>--replacenullstr string</b>] [<b>-w --workingdir</b> dirname] TableName(s)...</p>
<h1 id="DESCRIPTION">DESCRIPTION</h2>
<p>Export data from MySQL, Oracle or PostgreSQL database tables into CSV/TSV text files. Or perform describe on all tables and store its output into CSV/TSV text files. A text file is generated for each table.</p>
<h1 id="OPTIONS">OPTIONS</h2>
<dl>
<dt id="d---dbdriver-mysql-Oracle-Postgres-or-Pg"><b>-d, --dbdriver</b> <i>mysql | Oracle | Postgres or Pg</i></dt>
<dd>
<p>Database driver name. Possible values: <i>mysql, Oracle, Postgres or Pg</i>. Default: <i>MySQL</i> or value of environment variable DBI_DRIVER. This script has only been tested with MySQL, Oracle and PostgreSQL drivers.</p>
</dd>
<dt id="dbhost-hostname"><b>--dbhost </b> <i>hostname</i></dt>
<dd>
<p>Database host name. Default: <i>127.0.0.1</i> for both MySQL and Oracle. For remote databases, specify complete remote host domain: <i>dbhostname.org</i> or something like it.</p>
</dd>
<dt id="dbname-databasename"><b>--dbname</b> <i>databasename</i></dt>
<dd>
<p>Database name. Default: mysql for MySQL, postgres for PostgreSQL and none for Oracle. For connecting to local/remote Oracle databases, this value can be left undefined assuming <b>--dbhost</b> is correctly specified.</p>
</dd>
<dt id="dbpassword-password"><b>--dbpassword</b> <i>password</i></dt>
<dd>
<p>Database user password. Default: <i>none</i> and value of environment variable DBI_PASS is used for connecting to database.</p>
</dd>
<dt id="dbusername-username"><b>--dbusername</b> <i>username</i></dt>
<dd>
<p>Database user name. Default: <i>none</i> and value of environment variable DBI_USER is used for connecting to database.</p>
</dd>
<dt id="exportdatalabels-yes-no"><b>--exportdatalabels</b> <i>yes | no</i></dt>
<dd>
<p>This option is mode specific and controls exporting of column data labels during exportdata mode. Possible values: <i>yes or no</i>. Default: <i>yes</i>.</p>
</dd>
<dt id="exportlobs-yes-no"><b>--exportlobs</b> <i>yes | no</i></dt>
<dd>
<p>This option is mode specific and controls exporting of CLOB/BLOB or BYTEA data columns during exportdata mode. Possible values: <i>yes or no</i>. Default: <i>no</i>.</p>
</dd>
<dt id="h---help"><b>-h, --help</b></dt>
<dd>
<p>Print this help message.</p>
</dd>
<dt id="m---mode-exportdata-describetable"><b>-m, --mode</b> <i>exportdata | describetable</i></dt>
<dd>
<p>Data selection criterion from database. Possible values: <i>exportdata or describetable</i>. Default value: <i>exportdata</i>.</p>
</dd>
<dt id="o---overwrite"><b>-o, --overwrite</b></dt>
<dd>
<p>Overwrite existing files.</p>
</dd>
<dt id="outdelim-comma-tab-semicolon"><b>--outdelim</b> <i>comma | tab | semicolon</i></dt>
<dd>
<p>Output text file delimiter. Possible values: <i>comma, tab, or semicolon</i> Default value: <i>comma</i>.</p>
</dd>
<dt id="q---quote-yes-no"><b>-q, --quote</b> <i>yes | no</i></dt>
<dd>
<p>Put quotes around column values in output text file. Possible values: <i>yes or no</i>. Default value: <i>yes</i>.</p>
</dd>
<dt id="r---root-rootname"><b>-r, --root</b> <i>rootname</i></dt>
<dd>
<p>New file name is generated using the root:&lt;Root&gt;.&lt;Ext&gt;. Default new file file names: &lt;Mode&gt;&lt;TableName&gt;.&lt;Ext&gt;. The csv and tsv &lt;Ext&gt; values are used for comma/semicolon, and tab delimited text files respectively.This option is ignored for multiple input table names.</p>
</dd>
<dt id="replacenullstr-string"><b>--replacenullstr</b> <i>string</i></dt>
<dd>
<p>Replace NULL or undefined row values with specified value. Default: <i>none</i></p>
<p>For importing output text files into MySQL database using &quot;load data local infile &#39;&lt;tablename&gt;.tsv&#39; into table &lt;tablename&gt;&quot; command, use <i>--raplacenullstr &quot;NULL&quot;</i> in conjunction with <i>--exportdatalabels no</i>, <i>--quote no</i>, and <i>--outdelim tab</i> options: it&#39;ll generate files for direct import into MySQL assuming tables already exists.</p>
</dd>
<dt id="w---workingdir-dirname"><b>-w --workingdir</b> <i>dirname</i></dt>
<dd>
<p>Location of working directory. Default: current directory.</p>
</dd>
</dl>
<h1 id="EXAMPLES">EXAMPLES</h2>
<p>To export all data in user and user_info tables from a MySQL server running on a local machine using username/password from DBI_USER and DBI_PASS environmental variables, type:</p>
<div class="ExampleBox">    % DBTablesToTextFiles.pl -o user user_info</div>
<p>To describe user and user_info tables in a MySQL server running on a remote machine using explicit username/password and capturing the output into a DescribeTables.csv file, type:</p>
<div class="ExampleBox">    % DBTablesToTextFiles.pl --dbdriver mysql --dbuser &lt;name&gt; --dbpassword
      &lt;pasword&gt; --dbname mysql --dbhost &lt;mysqlhostname.org&gt;
      -r DescribeTable -m describetable -o user user_info</div>
<p>To describe table all_tables in Oracle running on a remote machine using explicit username/password and capturing the output into a DescribeAllTable.tsv file, type:</p>
<div class="ExampleBox">    % DBTablesToTextFiles.pl --dbdriver Oracle --dbuser &lt;name&gt; --dbpassword
      &lt;pasword&gt; --dbhost &lt;oraclehostname.com&gt; -r DescribeAllTable
      -m describetable --outdelim tab --quote no -o all_tables</div>
<p>To export all data in user and user_info tables from MySQL server running on a local machine using explicit username/password and capturing the data in ExportTables.tsv file with empty values substituted with NULL and no column labels, type:</p>
<div class="ExampleBox">    % DBTablesToTextFiles.pl --dbdriver Oracle --dbuser &lt;name&gt; --dbpassword
      &lt;pasword&gt; -r ExportTables --outdelim tab --quote no --replacenullstr
      &quot;\N&quot; -m exportdata --exportlobs no  --exportdatalabels no -o
      user user_info</div>
<h1 id="AUTHOR">AUTHOR</h2>
<p><a href="mailto:msud@san.rr.com">Manish Sud</a></p>
<h1 id="SEE-ALSO">SEE ALSO</h2>
<p><a href="./DBSchemaTablesToTextFiles.html">DBSchemaTablesToTextFiles.pl</a>, <a href="./DBSQLToTextFiles.html">DBSQLToTextFiles.pl</a></p>
<h1 id="COPYRIGHT">COPYRIGHT</h2>
<p>Copyright (C) 2020 Manish Sud. All rights reserved.</p>
<p>This file is part of MayaChemTools.</p>
<p>MayaChemTools is free software; you can redistribute it and/or modify it under the terms of the GNU Lesser General Public License as published by the Free Software Foundation; either version 3 of the License, or (at your option) any later version.</p>
<p>&nbsp</p><p>&nbsp</p><div class="DocNav">
<table width="100%" border=0 cellpadding=0 cellspacing=2>
<tr align="left" valign="top"><td width="33%" align="left"><a href="./DBSchemaTablesToTextFiles.html" title="DBSchemaTablesToTextFiles.html">Previous</a>&nbsp;&nbsp;<a href="./index.html" title="Table of Contents">TOC</a>&nbsp;&nbsp;<a href="./DownloadPDBFiles.html" title="DownloadPDBFiles.html">Next</a></td><td width="34%" align="middle"><strong>August 27, 2020</strong></td><td width="33%" align="right"><strong>DBTablesToTextFiles.pl</strong></td></tr>
</table>
</div>
<br />
<center>
<img src="../../images/h2o2.png">
</center>
</body>
</html>
